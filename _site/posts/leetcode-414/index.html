<!DOCTYPE html><html lang="cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title> leetcode third maximum number</title><meta name="description" content="414. Third Maximum Number:"><link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css"><link rel="canonical" href="http://localhost:4000/posts/leetcode-414/"><link rel="alternate" type="application/rss+xml" title="13space" href="http://localhost:4000/feed.xml"><link href='https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|Roboto+Condensed:700&subset=latin' rel='stylesheet' type='text/css'><link rel="stylesheet" href="http://localhost:4000/assets/css/main.css"><meta property="og:url" content="http://localhost:4000/posts/leetcode-414/"><meta property="og:type" content="website"><meta property="og:title" content="Third Maximum Number"><meta property="og:description" content="Find the third maximum number in an array"><meta property="og:site_name" content="13space"><meta name="twitter:card" content="summary"><meta name="twitter:url" content="http://localhost:4000/posts/leetcode-414/"><meta name="twitter:title" content="Third Maximum Number"><meta name="twitter:description" content="Find the third maximum number in an array"><meta property="og:image" content="http://localhost:4000/assets/images/think.jpg"><meta name="twitter:image" content="http://localhost:4000/assets/images/think.jpg"><body><div id="shadow"></div><header class="main-header content-wrapper"> <input type="checkbox" id="menu-checkbox" /><nav class="center-wrapper nav-main"> <a class="blog-logo" href="/">13space</a> <a href="/about/">About</a> <a href="/posts/">Archive</a>  <a href="/feed.xml">RSS</a> <label for="menu-checkbox" class="toggle-button" data-open="☰" data-close="☰" onclick></label></nav></header><aside class="sidebar" role="note" style="background-image: url(http://localhost:4000/assets/images/think.jpg)"><div class="cover"><div class="cover-text"><div class="heading"> <a href="/posts/#leetcode">leetcode</a></div><p> Find the third maximum number in an array</div></div><div id="switcher"></div></aside><div id="search-container"> <input type="text" id="search-input" placeholder="search..."><ul id="results-container"></ul></div> <script src="/bower_components/simple-jekyll-search/dest/jekyll-search.js" type="text/javascript"></script><main class="content-wrapper"><article class="post"><h1 class="post-title">Third Maximum Number</h1><p class="post-meta"> <time datetime="2016-12-28">28-12-2016</time> &nbsp;/&nbsp; <span>Liu-Cheng Xu</span><div class="post-content"><p><a href="https://leetcode.com/problems/third-maximum-number/">414. Third Maximum Number</a>:<p>Given a <strong>non-empty</strong> array of integers, return the third maximum number in this array. If it does not exist, return the maximum number. The time complexity must be in O(n).<p>The following solutions are all stealed from <a href="https://discuss.leetcode.com/topic/63903/short-easy-c-using-set">A short easy cpp solution using set</a>:<p>cpp version:<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
    <span class="k">public</span><span class="o">:</span>
    <span class="kt">int</span> <span class="n">thirdMax</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">top3</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">num</span> <span class="o">:</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">top3</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">num</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">top3</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">)</span>
                <span class="n">top3</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">top3</span><span class="p">.</span><span class="n">begin</span><span class="p">());</span>
        <span class="p">}</span>
     <span class="k">return</span> <span class="n">top3</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">3</span> <span class="o">?</span> <span class="o">*</span><span class="n">top3</span><span class="p">.</span><span class="n">begin</span><span class="p">()</span> <span class="o">:</span> <span class="o">*</span><span class="n">top3</span><span class="p">.</span><span class="n">rbegin</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure><p>the same idea in java:<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">thirdMax</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">TreeSet</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">set</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TreeSet</span><span class="o">&lt;&gt;();</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">num</span> <span class="o">:</span> <span class="n">nums</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">num</span><span class="o">);</span>
            <span class="k">if</span><span class="o">(</span><span class="n">set</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">set</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">set</span><span class="o">.</span><span class="na">first</span><span class="o">());</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">set</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">3</span> <span class="o">?</span> <span class="n">set</span><span class="o">.</span><span class="na">first</span><span class="o">()</span> <span class="o">:</span> <span class="n">set</span><span class="o">.</span><span class="na">last</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure><p>We can see the cpp and java version above is very similar. A person in the discussion presented a question that std::set usually uses red-black tree, so wouldn’t the solution be <em>nlogn</em>?<p>The answer to the presented problem is since we only have 3 elements, insert/delete is a constant time operation. Don’t stick to O(<em>nlogn</em>) concept. What’s more, if dive into the problem, we can find the following content about insert operation complexity from <a href="http://www.cplusplus.com/reference/set/set/insert/">cplusplus.com</a>:<blockquote><p>If a single element is inserted, logarithmic in size in general, but amortized constant if a hint is given and the position given is the optimal.</blockquote><p>Let’s see the same idea using python:<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">thirdMax</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">):</span>
        <span class="n">l</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
            <span class="n">bisect</span><span class="o">.</span><span class="n">insort</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="o">-</span><span class="n">n</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">3</span><span class="p">:</span>
                <span class="n">l</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="k">return</span> <span class="o">-</span><span class="n">l</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">2</span> <span class="k">else</span> <span class="o">-</span><span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></code></pre></figure><p>I am not an expert in python , yet, so the python solution is not so clear and understandable at my first glance. Actually, the reason is that I didn’t know <code class="highlighter-rouge">bisect.insort()</code>.<p>The idea could also be used to get the top k items in a large array, whereas you need pay more attention to a certain case:<blockquote><p>Input: [2, 2, 3, 1]<p>Output: 1<p>Explanation: Note that the third maximum here means the third maximum distinct number. Both numbers with value 2 are both considered as second maximum.</blockquote><p>If numbers with the same value can not be considered as the same one, the result is unexpected. I did make a mistake here in the past. In Bayesian Personalized Ranking algorithm, I need to obtain the top k items from a list. At that time I used the similar solution, though the final result seemingly looked normal, it was indeed wrong. <a class="link-to-post" href="/posts/perceptron/"> <span class="link-to-post__next">&#10535; &nbsp;Next post</span> <span class="link-to-post__title">Perceptron</span> </a> <a class="link-to-post" href="/posts/dive-into-gradient-decent/"> <span class="link-to-post__prev">&#10535; &nbsp;Previous post</span> <span class="link-to-post__title">理解梯度下降</span> </a></div><div id="lv-container" data-id="city" data-uid="MTAyMC8zMTk1My84NTE3"> <script type="text/javascript"> (function(d, s) { var j, e = d.getElementsByTagName(s)[0]; if (typeof LivereTower === 'function') { return; } j = d.createElement(s); j.src = 'https://cdn-city.livere.com/js/embed.dist.js'; j.async = true; e.parentNode.insertBefore(j, e); })(document, 'script'); </script> <noscript> 为正常使用来必力评论功能请激活JavaScript</noscript></div></main><footer class="blog-footer content-wrapper"><p>&copy; <span class="full-year"></span> 13space  <script src="//cdn.bootcss.com/jquery/2.2.2/jquery.min.js"></script>  <script src="//cdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js"></script></footer>cb-footer-add.html <script src="/assets/js/scripts.js"></script><div class="cb-search-tool" style="position: fixed; top: 0px ; bottom: 0px; left: 0px; right: 0px; opacity: 0.95; background-color: #111111; z-index: 9999; display: none;"> <input type="text" class="form-control cb-search-content" id="cb-search-content" style="position: fixed; top: 60px" placeholder="文章标题 日期 标签" ><div style="position: fixed; top: 16px; right: 16px;"> <img src="/search/img/cb-close.png" id="cb-close-btn"/></div></div><div style="position: fixed; right: 16px; bottom: 20px;"> <img src="/search/img/cb-search.png" id="cb-search-btn" title="双击ctrl试一下"/></div><link rel="stylesheet" href="/search/css/cb-search.css"> <script src="/search/js/bootstrap3-typeahead.min.js"></script> <script src="/search/js/cb-search.js"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-92665219-1', 'auto'); ga('send', 'pageview'); </script>
