<!DOCTYPE html><html lang="cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title> how to use vim as a python ide</title><meta name="description" content="I love vim and often use it to write Python code. Here are some useful plugins and tools for building a delightful vim python environment, escpecially for Vim8:"><link rel="canonical" href="http://localhost:4000/posts/use-vim-as-a-python-ide/"><link rel="alternate" type="application/rss+xml" title="13space" href="http://localhost:4000/feed.xml"><link href='https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|Roboto+Condensed:700&subset=latin' rel='stylesheet' type='text/css'><link rel="stylesheet" href="http://localhost:4000/assets/css/main.css"><meta property="og:url" content="http://localhost:4000/posts/use-vim-as-a-python-ide/"><meta property="og:type" content="website"><meta property="og:title" content="Use Vim as a Python IDE"><meta property="og:description" content="Build a vim python IDE"><meta property="og:site_name" content="13space"><meta name="twitter:card" content="summary"><meta name="twitter:url" content="http://localhost:4000/posts/use-vim-as-a-python-ide/"><meta name="twitter:title" content="Use Vim as a Python IDE"><meta name="twitter:description" content="Build a vim python IDE"><meta property="og:image" content="http://localhost:4000/assets/images/tools.jpg"><meta name="twitter:image" content="http://localhost:4000/assets/images/tools.jpg"><body><div id="shadow"></div><header class="main-header content-wrapper"> <input type="checkbox" id="menu-checkbox" /><nav class="center-wrapper nav-main"> <a class="blog-logo" href="/">13space</a> <a href="/about/">About</a> <a href="/posts/">Archive</a> <a href="#saber">saber</a> <a href="/feed.xml">RSS</a> <label for="menu-checkbox" class="toggle-button" data-open="☰" data-close="☰" onclick></label></nav></header><aside class="sidebar" role="note" style="background-image: url(http://localhost:4000/assets/images/tools.jpg)"><div class="cover"><div class="cover-text"><div class="heading"> <a href="/posts/#tools">tools</a></div><p> Build a vim python IDE</div></div><div id="switcher"></div></aside><main class="content-wrapper"><article class="post"><h1 class="post-title">Use Vim as a Python IDE</h1><p class="post-meta"> <time datetime="2017-02-01">01-02-2017</time> &nbsp;/&nbsp; <span>Liu-Cheng Xu</span><div class="post-content"><p>I love vim and often use it to write Python code. Here are some useful plugins and tools for building a delightful vim python environment, escpecially for Vim8:<p><img src="/assets/images/posts/vim-python-ide-screenshot.png" alt="" /><p>As you can see, tmux is also one of my favourite tools in terminal.<h3 id="syntax-checking">Syntax Checking</h3><p>If you use Vim8, <a href="https://github.com/w0rp/ale">w0rp/ale</a> is a better option than syntastic, for it utilizes the async feature in Vim8, you will never get stuck due to the syntax checking. It’s similar to flycheck in emacs, which allows you to lint while you type.<p><img src="https://github.com/w0rp/ale/blob/master/img/example.gif?raw=true" alt="" /> (taken from ale)<h3 id="code-formatter">Code Formatter</h3><p><a href="https://github.com/google/yapf">google/yapf</a> can be used to format python code. Make a key mapping as bellow, then you can format your python code via <code class="highlighter-rouge">&lt;LocalLeader&gt; =</code>.<div class="language-vim highlighter-rouge"><pre class="highlight"><code>autocmd <span class="nb">FileType</span> python nnoremap <span class="p">&lt;</span>LocalLeader<span class="p">&gt;=</span> <span class="p">:</span><span class="m">0</span><span class="p">,</span>$<span class="p">!</span>yapf<span class="p">&lt;</span>CR<span class="p">&gt;</span>
</code></pre></div><p>You can also take a look at <a href="https://github.com/Chiel92/vim-autoformat">Chiel92/vim-autoformat</a>.<h3 id="sort-import">Sort Import</h3><p><a href="https://github.com/timothycrosley/isort">timothycrosley/isort</a> helps you sort imports alphabetically, and automatically separated into sections. For example, use <code class="highlighter-rouge">&lt;LocalLeader&gt;i</code> to run isort on your current python file:<div class="language-vim highlighter-rouge"><pre class="highlight"><code>autocmd <span class="nb">FileType</span> python nnoremap <span class="p">&lt;</span>LocalLeader<span class="p">&gt;</span><span class="k">i</span> <span class="p">:!</span>isort %<span class="p">&lt;</span>CR<span class="p">&gt;&lt;</span>CR<span class="p">&gt;</span>
</code></pre></div><p>Or you can use its vim plugin: <a href="https://github.com/fisadev/vim-isort#installation">fisadev/vim-isort</a>.<h3 id="auto-completion">Auto Completion</h3><p><a href="https://github.com/Valloric/YouCompleteMe">Valloric/YouCompleteMe</a> is a good way to provide code auto completion. If you think YCM is too huge to give a try, <a href="https://github.com/davidhalter/jedi-vim">jedi-vim</a> is an alternative. They all use <a href="https://github.com/davidhalter/jedi">jedi</a> as their backend.<p><img src="https://github.com/davidhalter/jedi/raw/master/docs/_screenshots/screenshot_complete.png" alt="" /> (taken from jedi-vim)<p>If use neovim, you can also try <a href="https://github.com/Shougo/deoplete.nvim">Shougo/deoplete.nvim</a>.<h3 id="quick-run">Quick Run</h3><p>If use Vim8, you can execute python file asynchronously by <a href="https://github.com/skywind3000/asyncrun.vim">skywind3000/asyncrun.vim</a> and output automatically the result to the quickfix window like this:<div class="language-vim highlighter-rouge"><pre class="highlight"><code><span class="c">" Quick run via &lt;F5&gt;</span>
nnoremap <span class="p">&lt;</span>F5<span class="p">&gt;</span> <span class="p">:</span><span class="k">call</span> <span class="p">&lt;</span>SID<span class="p">&gt;</span>compile_and_run<span class="p">()&lt;</span>CR<span class="p">&gt;</span>

augroup SPACEVIM_ASYNCRUN
    autocmd<span class="p">!</span>
    <span class="c">" Automatically open the quickfix window</span>
    autocmd <span class="nb">User</span> AsyncRunStart <span class="k">call</span> asyncrun#quickfix_toggle<span class="p">(</span><span class="m">15</span><span class="p">,</span> <span class="m">1</span><span class="p">)</span>
augroup END

<span class="k">function</span><span class="p">!</span> <span class="nv">s:compile_and_run</span><span class="p">()</span>
    exec <span class="s1">'w'</span>
    <span class="k">if</span> &amp;<span class="k">filetype</span> <span class="p">==</span> <span class="s1">'c'</span>
        exec <span class="s2">"AsyncRun! gcc % -o %&lt;; time ./%&lt;"</span>
    <span class="k">elseif</span> &amp;<span class="k">filetype</span> <span class="p">==</span> <span class="s1">'cpp'</span>
       exec <span class="s2">"AsyncRun! g++ -std=c++11 % -o %&lt;; time ./%&lt;"</span>
    <span class="k">elseif</span> &amp;<span class="k">filetype</span> <span class="p">==</span> <span class="s1">'java'</span>
       exec <span class="s2">"AsyncRun! javac %; time java %&lt;"</span>
    <span class="k">elseif</span> &amp;<span class="k">filetype</span> <span class="p">==</span> <span class="s1">'sh'</span>
       exec <span class="s2">"AsyncRun! time bash %"</span>
    <span class="k">elseif</span> &amp;<span class="k">filetype</span> <span class="p">==</span> <span class="s1">'python'</span>
       exec <span class="s2">"AsyncRun! time python %"</span>
    <span class="k">endif</span>
<span class="k">endfunction</span>
</code></pre></div><p>For neovim, <a href="https://github.com/neomake/neomake">neomake/neomake</a> is worthy of trying. Here is the description from neomake’s README:<blockquote><p>It is intended to replace the built-in :make command and provides functionality similar to plugins like syntastic and dispatch.vim. It is primarily used to run code linters and compilers from within Vim, but can be used to run any program.</blockquote><p>Another approach is to use <strong><a href="https://github.com/tmux/tmux">TMUX</a></strong>. The idea is simple: it can split your terminal screen into two. Basically, you will have one side of your terminal using Vim and the other side will be where you run your scripts.<p><img src="/assets/images/posts/vim-python-ide-tmux.png" alt="" /><h3 id="enhance-the-default-python-syntax-highlighting">Enhance the default python syntax highlighting</h3><p><a href="https://github.com/python-mode/python-mode">python-mode/python-mode</a> provides a more precise python syntax highlighting than the defaults. For example, you can add a highlighting for <code class="highlighter-rouge">pythonSelf</code> .<div class="language-vim highlighter-rouge"><pre class="highlight"><code><span class="k">hi</span> pythonSelf  ctermfg<span class="p">=</span><span class="m">68</span>  guifg<span class="p">=</span><span class="mh">#5f87d7</span> cterm<span class="p">=</span><span class="nb">bold</span> <span class="k">gui</span><span class="p">=</span><span class="nb">bold</span>
</code></pre></div><p><img src="https://github.com/liuchengxu/space-vim-dark/blob/screenshots/screenshot2.png?raw=true" alt="" /><p>For more customized python syntax highlightings, please see <a href="https://github.com/liuchengxu/space-vim/blob/master/layers/%2Blang/python/config.vim#L52-L72">space-vim: python Layer</a> and <em>syntax/python.vim</em> in <a href="https://github.com/python-mode/python-mode/blob/develop/syntax/python.vim">python-mode/python-mode</a> .<p>Actually, python-mode contains tons of stuff to develop python applications in Vim, e.g., static analysis, completion, documentation, and more. (But personally, I prefer to obtain the functionalities by some other better plugins.)<h3 id="summary">Summary</h3><p>There are also some neccessary general programming plugins, e.g., <a href="https://github.com/scrooloose/nerdcommenter">scrooloose/nerdcommenter</a> for convenient commenter, <a href="https://github.com/Yggdroot/indentLine">Yggdroot/indentLine</a> or <a href="https://github.com/nathanaelkane/vim-indent-guides">nathanaelkane/vim-indent-guides</a> for visually displaying indent levels in Vim, <a href="https://github.com/junegunn/fzf">fzf</a> and <a href="https://github.com/junegunn/fzf.vim">fzf.vim</a> for fuzzy file searching, etc.<p>Although vim is great and many plugins are productive, IDE is still my first choice when it comes to refactoring code and debugging:). Some useful links for debugging python:<ul><li><a href="http://stackoverflow.com/questions/1623039/python-debugging-tips">python-debugging-tips</a><li><a href="http://keflavich.github.io/blog/my-python-ipython-vim-debugging-workflow.html">my-python-ipython-vim-debugging-workflow</a></ul><p>For detailed vim configuration, please see <strong><a href="https://github.com/liuchengxu/space-vim">space-vim</a></strong>, enable ycmd, syntax-checking, python, programming Layer , then you could get a nice vim environment for python like the screenshot. Hope it helpful.<p><img src="https://github.com/liuchengxu/space-vim-dark/blob/screenshots/screenshot1.png?raw=true" alt="" /> <a class="link-to-post" href="/posts/14879419311452/"> <span class="link-to-post__next">&#10535; &nbsp;Next post</span> <span class="link-to-post__title">大数据时代内容营销的迷思与融合</span> </a> <a class="link-to-post" href="/posts/space-vim/"> <span class="link-to-post__prev">&#10535; &nbsp;Previous post</span> <span class="link-to-post__title">Switch from spacemacs to vim painlessly</span> </a></div><div class="ds-thread" data-thread-key="/posts/use-vim-as-a-python-ide" data-title="Use Vim as a Python IDE" data-url="13space.github.io//posts/use-vim-as-a-python-ide/"></div>  <script type="text/javascript"> var duoshuoQuery = {short_name:"13space"}; (function() { var ds = document.createElement('script'); ds.type = 'text/javascript';ds.async = true; ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js'; ds.charset = 'UTF-8'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds); })(); </script> </article></main><footer class="blog-footer content-wrapper"><p>&copy; <span class="full-year"></span> 13space</footer><script src="/assets/js/scripts.js"></script> <script type="text/javascript" charset="utf-8"> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments) },i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-92665219-1', 'auto'); ga('send', 'pageview'); </script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-92665219-1', 'auto'); ga('send', 'pageview'); </script>
